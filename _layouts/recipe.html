---
layout: default
---
<!-- template: recipe.html -->

{%- comment -%}
---- VARS ------------------------------------------------
{%- endcomment -%}

{%- if page.photo_large -%}
  {%- assign photo_hero = page.photo_large -%}
{%- elsif page.photos[0].filename -%}
  {%- assign photo_hero = page.photos[0].filename -%}
{%- comment -%}
{%- elsif page.photo -%}
  {%- assign photo_hero = page.photo -%}
{%- endcomment -%}
{%- else -%}
  {%- assign photo_hero = nil -%}
{%- endif -%}

{% if page.type == "_mine" %}
  {%- assign class_mine = "mine" -%}
{% else %}
  {%- assign class_mine = "notmine" -%}
{% endif %}

{%- comment -%}
---- END VARS ------------------------------------------------
{%- endcomment -%}
<!--pre>{{ page.created_ts }}</pre-->
<div class="{{ class_mine }}" id="recipe">
<div class="row" id="title">
	<div class="small-12 columns">
    <h2 class="marker">{% if page.type == "_mine" %}Joi's {% endif %}{{ page.title }}</h2>

    {% if page.source %}
      <p class="source">Source: 
        {% unless page.source_url %}
          {{ page.source }}
        {% else %}
          <a href="{{ page.source_url }}" title="{{ page.source }}">{{ page.source }}</a>
        {% endunless %}
      </p>
    {% endif %}

  </div>
</div>

{%- if photo_hero -%}
<!-- Hero Banner Photo -->
<div class="row" id="big-photo">
	<div class="small-12 columns">
		<img src="/images/recipes/{{page.uid}}/{{photo_hero}}">
	</div>
</div>
<!-- End Hero Banner Photo -->
{%- else -%}
  {%- comment -%}<hr>{%- endcomment -%}
{%- endif -%}

{% comment %}
Hack. 
Most of the content is templated in our Python script and inserted into
the markdown file. However, we open this DIV and place the backlinks include
here, since we cannot invoke another Liquid template over in the Python.
We do the same at the bottom to include the Photostrip. 
hacky, but it works.
For now.
- B. 2021-03-05
{% endcomment %}
<div class="row" id="row-one">
  <div class="large-4 medium-5 columns bgc-lorange" id="backlinks">
    {%- include backlinks.html -%}
  </div>
{%- include content.html -%}
{% comment %}
Row Two is opened and populated over in the Pythin script.
We just append the photostrip here and close it.
{% endcomment %}
  <div class="medium-2 columns" id="photo-sidebar">
    <div class="" id="recipe-photos">
    {% if page.photos %}
      {% for phot in page.photos %}
        {%- if phot.filename != photo_hero -%}
          <figure>
            <a
              href="/images/recipes/{{page.uid}}/{{ phot.filename }}" 
              title="recipe photo - {{ phot.name }}">
                <img
                  src="/images/recipes/{{page.uid}}/{{ phot.filename }}"
                  alt="recipe photo - {{ phot.name }}" />
            </a>
          </figure>
        {%- endif -%}
      {% endfor %}
    {% else %}
      {% if page.photo and page.photo != photo_hero %}
        <figure>
          <a
            href="/images/recipes/{{page.uid}}/{{page.photo}}" 
            title="recipe photo from source">
              <img
                src="/images/recipes/{{page.uid}}/{{page.photo}}"
                alt="recipe photo from source" />
            </a>
        </figure>
      {% else %}
        <!-- No photos -->
      {% endif %}
    {% endif %}
    &nbsp;
    </div>
  </div><!-- #photo-sidebar -->
</div><!-- #row-two -->

{% comment %}
We don't need this do we? 
I have it here and in the Pythin script.
{% if page.type == "_mine" %}
  {% if page.html['nutrition'] != null %}
  <hr>
  <div class="row" id="row-three">
    <div class="small-12 columns">
        <h4 id="nutrition">Nutritional Facts</h4>
        <div class="box box-nutrition">
          {{ page.html['nutrition'] }}
        </div>
    </div>
  </div><!-- #row-three -->
  {% endif %}
{% endif %}
{% endcomment %}


<hr>
<div class="row" id="row-four">
  <div class="small-12 columns" id="copyright">
      <h6>Recipe Copyright</h6>
      <div class="box">
        <p>
          <a href="https://www.copyright.gov/help/faq/faq-protect.html">According to the US Copyright Office</a>, <em>"A mere listing of ingredients is not protected under copyright law. However, where a recipe or formula is accompanied by substantial literary expression in the form of an explanation or directions, or when there is a collection of recipes as in a cookbook, there may be a basis for copyright protection."</em><br>
          On this site, for recipes written by others, the ingredients are listed and a link to the original recipe has been provided.
        </p>
      </div>
  </div>
</div><!-- #row-three -->

</div><!-- .mine / .notmine -->

<!-- /template: recipe.html -->